<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>跟随页面滚动的缓冲侧边栏</title>
		<style>
			*{margin: 0;padding: 0;}
			#div1{height:200px;width: 100px; position: absolute; background: red;right: 0;} 
			body{height: 2000px;}
		</style>
	</head>
	<body>
		<div id="div1"></div>
		<script>
			var oDiv1=document.getElementById('div1');
			var timer=null;
			window.onscroll=function()
			{
				var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
				startMove(parseInt((document.documentElement.clientHeight-oDiv1.offsetHeight)/2+scrollTop));
			}
			function startMove(iTarget)
			{
				clearInterval(timer);
				timer=setInterval(function()
				{
					var speed=(iTarget-oDiv1.offsetTop)/5;
					speed=speed>0?Math.ceil(speed):Math.floor(speed);
					if(oDiv1.offsetTop==iTarget)
					{
						clearInterval(timer);
					}
					else
					{
						oDiv1.style.top=oDiv1.offsetTop+speed+'px';
					}
				},30);
			};
		</script>
	</body>
</html>